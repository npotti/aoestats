define(["require","exports"],(function(require,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=new class{constructor(){this.aoeTeamsUrl="https://fopfpl.in/aoe/api/teams",this.aoeTeams=[],this.fplBaseUrl="https://fantasy.premierleague.com/api/",this.fplPlayerMap=new Map,this.fplTeamsMap=new Map,this.curr_gw=1,this.finished=!1}fetchFplMgrHistory(e){return new Promise(s=>{let a=this.fplBaseUrl+"entry/"+e+"/history/";fetch(a).then(e=>e.json()).then(e=>{s(e)})})}fetchAoeTeams(){return new Promise(e=>{let s=this.aoeTeamsUrl;fetch(s).then(e=>e.json()).then(s=>{const a=s;this.aoeTeams=a,e(this.aoeTeams)})})}fetchTeamName(e){let s="";switch(e){case 1:s="Marathas";break;case 2:s="Chozhas";break;case 3:s="Nizams";break;case 4:s="Mauryas";break;case 5:s="Mughals";break;case 6:s="Khiljis";break;case 7:s="Travancore";break;case 8:s="Nagas";break;case 9:s="Vijayanagara";break;case 10:s="Zamorins"}return s}roundToTwo(e){return Math.round(100*(e+Number.EPSILON))/100}fetchFPLPlayers(){return new Promise(e=>{fetch("https://fantasy.premierleague.com/api/bootstrap-static/").then(e=>e.json()).then(s=>{const a=s;a.teams&&a.teams.forEach(e=>{this.fplTeamsMap.set(e.id,e)}),a.elements&&a.elements.forEach(e=>{this.fplPlayerMap.set(e.id,e)}),a.events&&a.events.forEach(e=>{e.is_current&&(this.curr_gw=e.id,this.finished=e.finished)}),e(!0)})})}fetchCurrGW(){return new Promise(e=>{let s=1;1!==this.curr_gw?(s=this.curr_gw,e(s)):this.fetchFPLPlayers().then(a=>{s=this.curr_gw,e(s)})})}}}));